---
phase: 07-search-ui
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/admin/correction/search/SearchInputs.tsx
  - src/components/admin/correction/search/SearchSkeleton.tsx
  - src/components/admin/correction/search/index.ts
autonomous: true

must_haves:
  truths:
    - 'Admin sees two input fields for album title and artist name'
    - 'Inputs are pre-populated with current album data'
    - 'Admin can freely modify input values'
    - 'Search button triggers search (disabled when both empty)'
    - 'Loading state shows skeleton replacing inputs+results area'
  artifacts:
    - path: 'src/components/admin/correction/search/SearchInputs.tsx'
      provides: 'Two-field search form with validation'
      exports: ['SearchInputs']
    - path: 'src/components/admin/correction/search/SearchSkeleton.tsx'
      provides: 'Full loading skeleton for search area'
      exports: ['SearchSkeleton']
    - path: 'src/components/admin/correction/search/index.ts'
      provides: 'Barrel export for search components'
  key_links:
    - from: 'SearchInputs'
      to: 'onSearch callback'
      via: 'form submission'
      pattern: 'onSubmit.*onSearch'
---

<objective>
Create search input components for the correction modal search step.

Purpose: Admin needs to search MusicBrainz for album correction candidates. This plan creates the input form with two fields (album title, artist name) that pre-populate with current data and a loading skeleton for visual feedback.

Output: SearchInputs component with validation, SearchSkeleton for loading state
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-search-ui/07-CONTEXT.md
@.planning/phases/07-search-ui/07-RESEARCH.md

@src/components/admin/correction/CorrectionModal.tsx
@src/components/ui/input.tsx
@src/components/ui/button.tsx
@src/components/ui/skeletons/Skeleton.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SearchInputs component with two-field form</name>
  <files>
    src/components/admin/correction/search/SearchInputs.tsx
  </files>
  <action>
Create SearchInputs.tsx with:

1. Props interface:
   - initialAlbumTitle: string (pre-populate from current album)
   - initialArtistName: string (pre-populate from primary artist)
   - onSearch: (query: { albumTitle: string; artistName: string }) => void
   - isLoading?: boolean (disable inputs during search)

2. Two controlled inputs using existing Input component:
   - Album title input (placeholder: "Album title")
   - Artist name input (placeholder: "Artist name")

3. Form submission handling:
   - Prevent default on submit
   - Validate: at least one field must have non-empty trimmed value
   - Call onSearch with trimmed values

4. Search button:
   - Use Search icon from lucide-react
   - Disabled when both inputs empty OR when isLoading
   - Full width to match modal aesthetic

5. Styling:
   - Space-y-3 for field spacing
   - Dark theme compatible (use existing Input component defaults)
   - Button uses existing Button component with variant="default"

Key decisions from CONTEXT.md:

- Wait for explicit action (button click or Enter key)
- No visual indication when values differ from original
- Inputs remain enabled during search (but button disabled)
  </action>
  <verify>
  pnpm type-check passes with no errors
  Component renders without crashing when imported
  </verify>
  <done>
  SearchInputs component accepts initialAlbumTitle/initialArtistName props, renders two Input fields, calls onSearch on form submit with validation
  </done>
  </task>

<task type="auto">
  <name>Task 2: Create SearchSkeleton loading state component</name>
  <files>
    src/components/admin/correction/search/SearchSkeleton.tsx
    src/components/admin/correction/search/index.ts
  </files>
  <action>
Create SearchSkeleton.tsx:

1. Import Skeleton from @/components/ui/skeletons
2. Render skeleton matching search area layout:
   - Two input-sized skeletons (h-9 w-full for inputs)
   - One button-sized skeleton (h-9 w-full)
   - 5 result row skeletons (48px thumbnail + two text lines)

Layout structure:

```tsx
<div className='space-y-4'>
  {/* Input skeletons */}
  <div className='space-y-3'>
    <Skeleton className='h-9 w-full' />
    <Skeleton className='h-9 w-full' />
    <Skeleton className='h-9 w-full' />
  </div>
  {/* Results skeletons */}
  {[...Array(5)].map((_, i) => (
    <div key={i} className='flex gap-3 p-3'>
      <Skeleton className='h-12 w-12 rounded flex-shrink-0' />
      <div className='flex-1 space-y-2'>
        <Skeleton className='h-4 w-2/3' />
        <Skeleton className='h-3 w-1/3' />
      </div>
    </div>
  ))}
</div>
```

Create index.ts barrel export:

```tsx
export { SearchInputs } from './SearchInputs';
export { SearchSkeleton } from './SearchSkeleton';
```

  </action>
  <verify>
pnpm type-check passes
Files exist in src/components/admin/correction/search/
  </verify>
  <done>
SearchSkeleton renders loading state with input + result skeletons, barrel export file created
  </done>
</task>

</tasks>

<verification>
- pnpm type-check passes
- pnpm lint passes (run pnpm lint:fix if needed)
- Files created in src/components/admin/correction/search/
- SearchInputs component exports properly typed props
- SearchSkeleton matches expected search area layout
</verification>

<success_criteria>

1. SearchInputs renders two input fields with pre-populated values
2. Form submission validates and calls onSearch callback
3. Search button disabled when both inputs empty
4. SearchSkeleton provides visual loading state
5. All components follow dark theme styling
   </success_criteria>

<output>
After completion, create `.planning/phases/07-search-ui/07-01-SUMMARY.md`
</output>
