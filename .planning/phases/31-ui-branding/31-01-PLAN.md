---
phase: 31-ui-branding
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/logging/llama-logger.ts
  - src/components/admin/EnrichmentLogTable.tsx
autonomous: true

must_haves:
  truths:
    - "Server console logs show [ðŸ¦™ LlamaLog] prefix"
    - "Admin table header displays 'ðŸ¦™ LlamaLog'"
    - "Empty state shows llama emoji with playful message"
    - "Loading state shows llama emoji with 'Llama is thinking...'"
    - "Error state shows llama emoji with personality message"
  artifacts:
    - path: "src/lib/logging/llama-logger.ts"
      provides: "Console output with llama prefix and category"
      contains: "[ðŸ¦™ LlamaLog]"
    - path: "src/components/admin/EnrichmentLogTable.tsx"
      provides: "Table with llama-themed header, empty, loading, error states"
      contains: "ðŸ¦™ LlamaLog"
  key_links:
    - from: "src/lib/logging/llama-logger.ts"
      to: "console.log"
      via: "logEnrichment method"
      pattern: "console\\.log.*ðŸ¦™"
    - from: "src/components/admin/EnrichmentLogTable.tsx"
      to: "UI states"
      via: "conditional rendering"
      pattern: "ðŸ¦™.*LlamaLog"
---

<objective>
Add llama branding to LlamaLog console output and admin UI.

Purpose: Complete the LlamaLog identity with visual branding that enhances developer experience (console) and admin UX (table UI).

Output: Console logs prefixed with `[ðŸ¦™ LlamaLog] [CATEGORY]` and admin table with llama-themed header, empty, loading, and error states.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-ui-branding/31-CONTEXT.md
@.planning/phases/31-ui-branding/31-RESEARCH.md

@src/lib/logging/llama-logger.ts
@src/components/admin/EnrichmentLogTable.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add llama branding to console output</name>
  <files>src/lib/logging/llama-logger.ts</files>
  <action>
Update the console.log statement in logEnrichment method (~line 182-186) to use llama prefix and show category:

1. Update the console.log to use format: `[ðŸ¦™ LlamaLog] [${category}] ${message}`

2. Current code:
```typescript
console.log(
  `[LlamaLogger] Logged ${data.operation} for ${data.entityType}:${data.entityId} - Status: ${data.status}${rootIndicator}${rootInfo}`
);
```

3. New code:
```typescript
console.log(
  `[ðŸ¦™ LlamaLog] [${category}] ${data.operation} for ${data.entityType}:${data.entityId} - Status: ${data.status}${rootIndicator}${rootInfo}`
);
```

4. Also update the warn statement (~line 191) for consistency:
```typescript
console.warn('[ðŸ¦™ LlamaLog] Failed to log:', error);
```

Note: Do NOT add ANSI color codes - keep it simple. The emoji provides visual distinction without complexity.
  </action>
  <verify>Run `grep -n "ðŸ¦™ LlamaLog" src/lib/logging/llama-logger.ts` to confirm both console.log and console.warn have the new prefix</verify>
  <done>Console output uses `[ðŸ¦™ LlamaLog] [CATEGORY]` format</done>
</task>

<task type="auto">
  <name>Task 2: Add llama branding to admin UI</name>
  <files>src/components/admin/EnrichmentLogTable.tsx</files>
  <action>
Update the EnrichmentLogTable component to add llama theming to header, loading, empty, and error states:

1. **Update header** (~line 359-365):
   Replace:
   ```tsx
   <h3 className='text-sm font-semibold text-white flex items-center gap-2'>
     <Clock className='h-4 w-4' />
     Enrichment History
   ```
   With:
   ```tsx
   <h3 className='text-sm font-semibold text-white flex items-center gap-2'>
     ðŸ¦™ LlamaLog
   ```
   Keep the job count span that follows.

2. **Update loading state** (~line 337-343):
   Replace:
   ```tsx
   <div className='p-8 text-center text-zinc-400'>
     <Clock className='h-6 w-6 animate-spin mx-auto mb-2' />
     <p className='text-sm'>Loading enrichment logs...</p>
   </div>
   ```
   With:
   ```tsx
   <div className='p-8 text-center text-zinc-400'>
     <div className='text-3xl mb-2 animate-pulse'>ðŸ¦™</div>
     <p className='text-sm'>Llama is thinking...</p>
   </div>
   ```

3. **Update empty state** (~line 383-390):
   Replace:
   ```tsx
   <div className='p-8 text-center text-zinc-500 border border-zinc-700 rounded-md bg-zinc-900/50'>
     <AlertCircle className='h-6 w-6 mx-auto mb-2' />
     <p className='text-sm'>No enrichment logs found</p>
     <p className='text-xs text-zinc-600 mt-1'>
       This entity has not been enriched yet
     </p>
   </div>
   ```
   With:
   ```tsx
   <div className='p-8 text-center text-zinc-500 border border-zinc-700 rounded-md bg-zinc-900/50'>
     <div className='text-4xl mb-3'>ðŸ¦™</div>
     <p className='text-sm font-medium text-zinc-400'>The llama has nothing to report</p>
     <p className='text-xs text-zinc-600 mt-1'>
       This entity hasn't been enriched yet
     </p>
   </div>
   ```

4. **Update error state** (~line 373-381):
   Replace:
   ```tsx
   {error ? (
     <div className='p-8 text-center text-red-400'>
       <XCircle className='h-6 w-6 mx-auto mb-2' />
       <p className='text-sm'>Failed to load enrichment logs</p>
       <p className='text-xs text-zinc-500 mt-1'>
         {error instanceof Error ? error.message : 'Unknown error'}
       </p>
     </div>
   ) : null}
   ```
   With:
   ```tsx
   {error ? (
     <div className='p-8 text-center'>
       <div className='text-3xl mb-2'>ðŸ¦™</div>
       <p className='text-sm text-red-400 font-medium'>The llama couldn't fetch logs</p>
       <p className='text-xs text-zinc-500 mt-1'>
         {error instanceof Error ? error.message : 'Unknown error'}
       </p>
     </div>
   ) : null}
   ```

5. Remove unused import `Clock` from lucide-react imports ONLY IF it's no longer used elsewhere in the file after removing from header. Check first by searching for other Clock usages (there are likely some in the table body - keep the import if so).

Note: Do NOT add emoji to category badges - keep badges clean, text-only per CONTEXT.md decisions.
  </action>
  <verify>
1. Run `grep -n "ðŸ¦™ LlamaLog" src/components/admin/EnrichmentLogTable.tsx` - should show header
2. Run `grep -n "Llama is thinking" src/components/admin/EnrichmentLogTable.tsx` - should show loading state
3. Run `grep -n "nothing to report" src/components/admin/EnrichmentLogTable.tsx` - should show empty state
4. Run `grep -n "couldn't fetch" src/components/admin/EnrichmentLogTable.tsx` - should show error state
5. Run `pnpm type-check` - should pass
  </verify>
  <done>Admin table shows llama-themed header, loading, empty, and error states</done>
</task>

</tasks>

<verification>
1. Console output: Trigger a log by running a dev action that creates a LlamaLog entry - check server console shows `[ðŸ¦™ LlamaLog] [CATEGORY]` format
2. Admin UI: Navigate to any album's admin detail page and verify:
   - Header shows "ðŸ¦™ LlamaLog" 
   - Loading state (if observable) shows llama + "Llama is thinking..."
   - Empty state (test with entity having no logs) shows llama + "The llama has nothing to report"
3. Type check: `pnpm type-check` passes
4. Lint: `pnpm lint` passes (or only pre-existing errors)
</verification>

<success_criteria>
- UI-01: Console logs show `[ðŸ¦™ LlamaLog] [CATEGORY]` prefix
- UI-02: Admin table header displays "ðŸ¦™ LlamaLog"
- UI-03: Loading, empty, and error states include llama theming
- UI-04: Category badges remain clean (no emoji added - color-only per CONTEXT.md decision)
- All type checks pass
</success_criteria>

<output>
After completion, create `.planning/phases/31-ui-branding/31-01-SUMMARY.md`
</output>
