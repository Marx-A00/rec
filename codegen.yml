# yaml-language-server: $schema=https://unpkg.com/@graphql-codegen/cli/config.schema.json

schema: './src/graphql/schema.graphql'
documents: './src/graphql/**/*.graphql'
generates:
  ./src/generated/graphql.ts:
    plugins:
      - typescript
      - typescript-operations
      - typescript-react-query
    config:
      fetcher:
        endpoint: 'process.env.NEXT_PUBLIC_API_URL || "/api/graphql"'
        fetchParams:
          headers:
            Content-Type: 'application/json'
          credentials: 'include'
      exposeQueryKeys: true
      exposeMutationKeys: true
      addInfiniteQuery: true
      reactQueryVersion: 5
      dedupeFragments: true
      scalars:
        DateTime: 'Date'
        UUID: 'string'
        JSON: 'any'
  ./src/generated/resolvers-types.ts:
    plugins:
      - typescript
      - typescript-resolvers
    config:
      contextType: '@/lib/graphql/context#GraphQLContext'
      useIndexSignature: true
hooks:
  afterOneFileWrite:
    - prettier --write
